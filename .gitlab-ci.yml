stages:
  - build

build:
  image: ubuntu:22.04
  stage: build
  before_script:
    - apt-get update -qq
    - apt-get install -y -qq cmake build-essential
  script:
    - cmake -B build -S .
    - cmake --build build
    - ctest --test-dir build || true
  artifacts:
    paths:
      - build/
    expire_in: 1 week
